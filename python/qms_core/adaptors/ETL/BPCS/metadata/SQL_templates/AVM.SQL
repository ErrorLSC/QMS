SELECT
    AVM.VENDOR,
    TRIM(AVM.VNDNAM) AS VENDORNAME,
    AVM.VTYPE,
    DST.STTPTC,
    DST.STNMDY
FROM 
    AVML01 AVM
INNER JOIN AVXL01 AVX ON AVM.VENDOR=AVX.VXVNDN
LEFT JOIN DSTL01 DST ON AVX.VXSPCD=DST.STSPCD
WHERE 
    (
        (AVM.VENDOR BETWEEN 100 AND 999)
        OR (
            AVM.VENDOR BETWEEN 10000 AND 90000
            AND (MOD(AVM.VENDOR, 10) = 5)
            OR AVM.VENDOR IN (99908, 99909)
        )
    )
    AND AVM.VTYPE NOT IN ('EDII','EDIA','ACGA','ACGB','ACGC','ACGH','ACGS','ACGI','EXPC','EXTI','EXTS','EXTH','EXTA','EXTB','EXTC','EDIC')
    OR AVM.VENDOR IN (611,624,530,103,129,170,172,186,190,372,999)
    AND DST.STORTC = '{{ order_type_filter | default("UR") }}'